# 問題 8.13

## 問題点：コードインジェクションの脆弱性

以下のコードには、ユーザー入力を直接 `new Function()` に渡しているという重大なセキュリティ上の問題がある。

```js
function f(input) {
  const f = new Function(`return "Hello, " + ${input}`);
  console.log(f());
}
```

このコードでは、ユーザーが入力した内容がそのまま JavaScript のコードとして実行されてしまう。

これにより、悪意のあるユーザーが任意のコードを注入し、実行させることが可能になる。

## 影響例

- アラートの表示
- クッキーやセッション情報の取得
- DOM の改ざん
- サーバーとの不正通信

## 安全な書き方

ユーザー入力はコードとしてではなく、文字列として扱うと安全。

```js
function safeGreet(input) {
  console.log("Hello, " + input);
}
```

このようにすることで、コードインジェクションのリスクを回避できる。
